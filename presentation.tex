%! Author = gabriel
%! Date = 5/7/23

% Preamble
\documentclass[12pt]{beamer}

% Packages
\usepackage{amsmath}
\usepackage{setup/packages}

\usetheme{Madrid}
\usecolortheme[named=darkgray]{structure}
\setbeamercolor{background canvas}{bg=gray}
%\setbeamercolor{frametitle}{bg=darkgray}
\setbeamercolor{footline}{bg=white}
\setbeamertemplate{enumerate items}[default]
\setbeamertemplate{itemize item}[circle]
\setbeamertemplate{itemize subitem}[circle]
\setbeamertemplate{sections/subsections in toc}[sections numbered]
\setbeamercolor{section in toc}{fg=black}
\setbeamertemplate{navigation symbols}{}
%\setbeamercolor{titlelike}{fg=white}
%\usefonttheme{structuresmallcapsserif}
\usefonttheme{serif}
%\setbeamertemplate{note page}[compress]
\setbeameroption{show notes on second screen}
\title{Problemas de Empacotamento}
\subtitle{métodos heurísticos baseados em \textit{bottom-left}}
\author[\href{https://github.com/G-Carneiro}{Gabriel Carneiro}]{
    \href{https://github.com/G-Carneiro}{Gabriel Medeiros Lopes Carneiro} \\
    Orientador: Pedro Belin Castellucci \\
    Coorientador: Rafael de Santiago
}
\institute[UFSC]{Universidade Federal de Santa Catarina}

\logo{\includegraphics[scale=0.05]{utils/images/vertical_sigla_PB_fundo_claro}}
\titlegraphic{
    \includegraphics[scale=0.15]{utils/images/vertical_sigla_PB_fundo_claro}
}
%
\setbeamertemplate{title page}[default][rounded=true]
%\setbeamertemplate{footline}{
%    \leavevmode%
%    \hbox{%
%        \begin{beamercolorbox}[wd=0.7\paperwidth,ht=2.25ex,dp=1ex,leftskip=1em]{footline}%
%            \includegraphics[scale=0.05]{utils/images/logo-ufsc}\hspace*{1em}%
%            \usebeamerfont{author in head/foot}\href{https://github.com/G-Carneiro}{Gabriel Carneiro}
%        \end{beamercolorbox}%
%%        \begin{beamercolorbox}[wd=.3\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
%%            \usebeamerfont{title in head/foot}\insertshorttitle
%%        \end{beamercolorbox}%
%        \begin{beamercolorbox}[wd=.3\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
%%            \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
%            \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
%        \end{beamercolorbox}}%
%    \vskip0pt%
%}

% Document
\begin{document}
    \begin{frame}[plain]
        \titlepage
    \end{frame}

    \begin{frame}
        \frametitle{Sumário}
        \tableofcontents
    \end{frame}


    \section{Conceitos básicos}\label{sec:introducao}

    \subsection{Modelos de otimização}\label{subsec:modelos-de-otimizacao}
    \begin{frame}
        \frametitle{Modelos de otimização}
        \[
            \min\!/\!\max f(x), x \in \mathcal{X}.
        \]
        \begin{itemize}
            \item $x$: variável de decisão, $x = x_1, x_2, \dots, x_n$.
            \item $\mathcal{X}$: conjunto factível ou domínio;
            \item $f(x)$: função objetivo.
        \end{itemize}
    \end{frame}

    \subsection{Tipos de soluções}\label{subsec:tipos-de-solucoes}
    \begin{frame}
        \frametitle{Tipos de soluções}
        \begin{itemize}
            \item Factível.
            \begin{itemize}
                \item Problema ilimitado.
            \end{itemize}
            \item Infactível.
            \item Ótima.
        \end{itemize}
    \end{frame}

    \subsection{Métodos exatos × heurísticos}\label{subsec:metodos-exatos-heuristicos}
    \begin{frame}
        \frametitle{Métodos exatos × heurísticos}
        Exatos
        \begin{itemize}
            \item Solução ótima.
            \item Tempo.
            \item Recursos.
        \end{itemize}
        Heurísticos
        \begin{itemize}
            \item Solução factível.
            \item Simplicidade.
            \item Grande porte.
        \end{itemize}
    \end{frame}


    \section{Problema}\label{sec:problema}
    \begin{frame}
        \frametitle{Problema}
        Alocar peças em um espaço.
        \begin{itemize}
            \item Difícil resolução.
            \item $N$-dimensional.
            \item Tipos de peças.
            \item Classificação.
            \item Variantes.
        \end{itemize}
    \end{frame}

    \subsection{N-dimensões}\label{subsec:n-dimensoes}
    \begin{frame}
        \frametitle{$N$-dimensões}
        \begin{figure}[!htb]
            \centering
            \includegraphics[scale=0.6]{utils/images/packing-example}
            \caption{Represeção 1D, 2D e 3D.}
            \label{fig:packing}
        \end{figure}
    \end{frame}

    \subsection{Tipos de peças}\label{subsec:tipos-de-pecas}
    \begin{frame}
        \frametitle{Tipos de peças}
        \begin{figure}[!htb]
            \centering
            \includegraphics[scale=0.6]{utils/images/pieces-example}
            \caption{Exemplos de peças regulares (esquerda) e irregulares (direita).}
            \label{fig:pieces}
        \end{figure}
    \end{frame}

    \subsection{Classificação}\label{subsec:classificacao}
    \begin{frame}<-4> % Necessário para usar environment dentro de \note
        \frametitle{Classificação}
        \begin{itemize}
            \item<1-> Empacotamento em faixa.
            \item<2-> Empacotamento da mochila.
            \item<3-> Empacotamento em caixas.
            \item<4-> Empacotamento ortogonal.
        \end{itemize}
        \note{
            \begin{itemize}
                \item<1-> Dado um conjunto de itens e uma caixa com comprimento fixo,
                queremos encontrar uma solução de altura mínima.
                \item<2-> Nesse caso, queremos maximizar o valor da caixa
                (geralmente é a área da caixa).
                \item<3-> Minimizar o número de caixas necessárias para empacotar todos os itens.
                \item<4-> Alocar todos os itens numa caixa.
                \item<4-> Todos os problemas são NP-difícil, com exceção do ortogonal (NP-completo).
            \end{itemize}
        }
    \end{frame}

    \subsection{Variantes}\label{subsec:variantes}
    \begin{frame}<-4> % Necessário para usar environment dentro de \note
        \frametitle{Variantes}
        \begin{itemize}
            \item<1-> Corte guilhotinado.
            \item<2-> Rotações ortogonais.
            \item<3-> Restrições de carga e descarga.
            \item<4-> Caixas de tamanho variável.
        \end{itemize}
        \note{
            \begin{itemize}
                \item<1-> Consiste em cortar a caixa de forma paralela
                a um dos lados de forma recursiva.
                \item<2-> É um modo de relaxar o problema, permitindo rotações de 90° nos itens.
                \item<3-> Algumas peças precisam ser posicionadas em certa posição
                ou próximas a outras.
                \item<4-> Define que caixas não precisam ter o mesmo tamanho
                (aplicável somente para Empacotamento em Caixas.)
            \end{itemize}
        }
    \end{frame}


    \section{\textit{Bottom-left}}\label{sec:bottom-left}
    \begin{frame}
        \frametitle{\textit{Bottom-left}}
        \begin{figure}[!htb]
            \centering
            \includegraphics[scale=0.8]{utils/images/bottom-left}
            \caption{Representação de alocação.}
            \label{fig:bottom-left}
        \end{figure}
    \end{frame}

    \subsection{Critérios de ordenação}\label{subsec:criterios-de-ordenacao}
    \begin{frame}
        \frametitle{Critérios de ordenação}
        \begin{itemize}
            \item Área.
            \item Perímetro.
            \item Largura.
            \item Altura.
            \item Id.
        \end{itemize}
    \end{frame}

    \subsection{Regiões}\label{subsec:regioes}
    \begin{frame}
        \frametitle{Regiões}
        \begin{itemize}
            \item Vertical.
            \item Horizontal.
            \item $\max$(área).
            \item Nenhuma.
        \end{itemize}
    \end{frame}

    \subsection{Testes}\label{subsec:testes}
    \begin{frame}
        \frametitle{Testes}
        \begin{itemize}
            \item 45 Instâncias.
            \begin{itemize}
                \item BKW\@.
                \item GCUT\@.
                \item NGCUT\@.
                \item OF\@.
                \item OKP\@.
            \end{itemize}
            \item 5 testes por configuração.
            \item 9000 execuções.
            \item ±5 horas.
        \end{itemize}
    \end{frame}


    \section{Resultados}\label{sec:resultados}

    \subsection{Comparativo - Ordenação}\label{subsec:configuracoes-ruins}
    \begin{frame}
        \frametitle{Comparativo - Ordenação}

        \only<1>{\input{utils/tabular/compare/descending}}
        \only<2->{
            \begin{figure}
                \centering
                \includegraphics<2>[scale=0.5]{output/figures/bkw/bkw01/horizontally/area/false/00}
                \includegraphics<3>[scale=0.5]{output/figures/bkw/bkw01/horizontally/area/false/01}
                \includegraphics<4>[scale=0.5]{output/figures/bkw/bkw01/horizontally/area/false/02}
                \includegraphics<5>[scale=0.5]{output/figures/bkw/bkw01/horizontally/area/false/06}
                \caption{Regiões criadas na ordenação crescente.}
                \label{fig:false}
            \end{figure}
        }
    \end{frame}


    \section{Conclusão}\label{sec:conclusao}
    \begin{frame}
        \frametitle{Conclusão}
        \begin{itemize}
            \item Resultados inesperados.
            \item Múltiplos métodos de solução.
        \end{itemize}
    \end{frame}
\end{document}