\section{Resultados}\label{sec:resultados}

\subsection{Testes}\label{subsec:testes}
\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Testes}
    \begin{itemize}
        \item 45 instâncias.
        \begin{itemize}
            \item BKW\@.
            \item GCUT\@.
            \item NGCUT\@.
            \item OF\@.
            \item OKP\@.
        \end{itemize}
        \item $45 \cdot 5 \cdot 2 \cdot 4 = 1800$ casos de teste.
        \item 5 testes por configuração.
        \item $1800\cdot 5 = 9000$ execuções.
    \end{itemize}
    \note{
        Para testar os métodos de solução criados foram usados 5 conjuntos de instâncias:
        BKW, GCUT, NGCUT, OF e OKP, totalizando 45 instâncias de teste.

        Cada método foi executado 5 vezes em cada uma das instâncias para se obter um média,
        também foi calculado a mediana e desvio padrão.

        Como temos 45 instâncias, 5 critérios de ordenação, cada critério pode ser crescente ou
        decrescente, 4 formas de criar regiões e cada uma dessas combinações foi executada 5
        vezes, temos o total de 9000 execuções.
    }
\end{frame}

\subsection{Comparativo - Ordenação}\label{subsec:configuracoes-ruins}
\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Ordenação}

    \only<1>{
        \begin{table}
            \centering
            \caption{Comparativo entre ordenação crescente e decrescente.}
            \label{tab:descending}
            \small\ttfamily\input{utils/tabular/compare/descending}
        \end{table}
    }
    \only<2>{\input{utils/figures/ordenacao/estado_0}}
    \only<3>{\input{utils/figures/ordenacao/estado_1}}
    \only<4>{\input{utils/figures/ordenacao/estado_2}}
    \only<5>{\input{utils/figures/ordenacao/estado_final}}
    \note<1>{A primeira coisa que fica evidente com os resultados é discrepância
    na qualidade de solução entre a ordenação crescente e a decrescente, algo já esperado.}
    \note<2>{Isso se deve a como as regiões são criadas, as figuras mostram o caso para
    ordenação crescente com a altura como critério e linha horizontal para criar a região.}
    \note<3>{Ao posicionar uma peça uma das regiões ficará com a mesma altura do item
    recém-posicionado, como a ordenação é crescente a próxima peça terá no mínimo
    a mesma altura, mas o provável é que seja mais alta, impossibilitando que seja
    alocada nessa região.}
    \note<4>{Fazendo com que muitas regiões fiquem sem poder receber peças.}
    \note<5>{Essa figura mostra o estado final do modelo e grande parte do espaço
    ainda está livre. Algo semelhante ocorre com outros critérios de ordenação e criação regiões.}
\end{frame}

\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Critérios de ordenação}
    \begin{table}
        \centering
        \caption{Resultado para os critérios de ordenção.}
        \label{tab:order}
        \small\ttfamily\input{utils/tabular/compare/ordenacao_true}
    \end{table}
    \note{Os próximos resultados consideram somente os casos com ordenação decrescente, já que
    se fosse considerado a ordenação crescente faria com que a média ficasse abaixo do resultado
    real, além de poder causar interpretações erradas na coluna de quantidade de vitórias.
    Aqui fica claro que ter algum critério de ordenação melhora e muito na solução, já que
    ordernar por ID teve um péssimo desempenho. Mas o curioso é que todos os demais critérios são
    competitivos entre si. A literatura em geral usa somente ordenação pela área, esses resultados
    podem indicar que algumas instâncias possuem características que torne mais interessante outro
    método de ordenação.}
\end{frame}

\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Regiões}
    \only<1>{
        \begin{table}
            \centering
            \caption{Comparativo entre criação de regiões.}
            \label{tab:regioes}
            \small\ttfamily\input{utils/tabular/compare/regioes_true}
        \end{table}
    }
    \only<2>{
        \begin{itemize}
            \item Sem sobreposição: $R = O\left(\dfrac{n^2 + n}{2}\right)$.
            \item Com sobreposição: $\displaystyle R = O\left(\dfrac{n^2 + n}{2}\right),
            S = O\left(\dfrac{n^3 - n}{3}\right)$.
            $n = 3152 \to R = \numprint{4969128}, S = \numprint{10438481552}.$
            % $S = O\left(\sum_{i=1}^{n} i(i - 1)\right)$
            % https://brilliant.org/wiki/sum-of-n-n2-or-n3/
        \end{itemize}
    }

    \note<1>{Indo para o comparativo entre regiões percebemos que a que permite sobreposições se saiu
    melhor, tanto em quantidade como em qualidade, ainda que na maioria dos casos não foi a única
    que encontrou a melhor solução, porém com um custo autíssimo de tempo.
    Regiões criadas com linhas verticais e horizontais foram mais rápidas, mas com soluções de pior
    qualidade. Enquanto maximizando as regiões criadas levou um pouco a mais de tempo, mas também
    com acréscimo na qualidade. Aqui a gente percebe que ter sobreposição demora em torno de
    1000 vezes mais. Mas por que tanta diferença entre com e sem sobreposição?}
    \note<2>{Como dito antes, sem sobreposições temos somente que checar se
    um item cabe em uma região, no pior caso teremos que fazer isso para $(n^2 + n) / 2$ regiões.
    Enquanto com sobreposição, além de ter esse número de regiões, para cada uma delas
    também é necessário checar possíveis sobreposições com as peças já alocadas, sendo o número
    de verificações igual o somatório de $(n^3 - n)/3$, isso no pior caso, algo extremamente custoso.
    Por exemplo, para uma instância com 3152 itens podem ser necessárias mais de 10 bilhões
    de verificações de sobreposição.
    Então, aquela diferença de 1000 vezes fica ainda maior de acordo com a quantidade de itens
    a serem alocados.}
\end{frame}

\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Sobreposição}
    \begin{table}
        \centering
        \caption{Resultados para sobreposição.}
        \label{tab:sobreposicao}
        \small\ttfamily\input{utils/tabular/compare/superposition}
    \end{table}
    \note{Na última tabela eu trouxe os números da comparação entre regiões com e sem sobreposição.
    Na primeira linha temos os resultados de todas as combinações possíveis com regiões sem
    sobreposição e o tempo total que levou para executar todas as instâncias. Já na segunda linha
    somente o critério de ordenação pela área foi considerado, já que obteve os melhores resultados.
    Os demais critérios não foram considerados pois esse sozinho já ultrapassa o tempo de todos os
    métodos sem sobreposição, caso fossem considerados o tempo total seria cerca de 10 vezes maior
    enquanto a qualidade teria pouco acréscimo.

    Aqui fica nítido que compensa muito mais, tanto em qualidade quanto em tempo, rodar todas
    as combinações possíveis com regiões sem sobreposição e escolher o melhor resultado.}
\end{frame}