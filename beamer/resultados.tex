\section{Resultados}\label{sec:resultados}

\subsection{Comparativo - Ordenação}\label{subsec:configuracoes-ruins}
\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Ordenação}

    \only<1>{
        \begin{table}
            \centering
            \caption{Comparativo entre ordenação crescente e decrescente.}
            \label{tab:descending}
            \ttfamily\input{utils/tabular/compare/descending}
        \end{table}
    }
    \only<2->{
        \begin{figure}
            \centering
            \includegraphics<2>[scale=0.5]{output/figures/bkw/bkw01/horizontally/height/false/00}
            \includegraphics<3>[scale=0.5]{output/figures/bkw/bkw01/horizontally/height/false/01}
            \includegraphics<4>[scale=0.5]{output/figures/bkw/bkw01/horizontally/height/false/02}
            \includegraphics<5>[scale=0.5]{output/figures/bkw/bkw01/horizontally/height/false/06}
            \caption{Regiões criadas na ordenação crescente.}
            \label{fig:false}
        \end{figure}
    }
    \note<1>{A primeira coisa que fica evidente com os resultados é discrepância
    na qualidade de solução entre a ordenação crescente e a decrescente, algo já esperado.}
    \note<2>{Isso se deve a como as regiões são criadas, as figuras mostram o caso para
    ordenação crescente com a altura como critério e linha horizontal para criar a região.}
    \note<3>{Ao posicionar uma peça uma das regiões ficará com a mesma altura do item
    recém-posicionado, como a ordenação é crescente a próxima peça terá no mínimo
    a mesma altura, mas o provável é que seja mais alta, impossibilitando que seja
    alocada nessa região.}
    \note<4>{Fazendo com que muitas regiões fiquem sem poder receber peças.}
    \note<5>{Essa figura mostra o estado final do modelo e grande parte do espaço
    ainda está livre. Algo semelhante ocorre com outros critérios de ordenação e criação regiões.}
\end{frame}

\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Critérios de ordenação}
    \begin{table}
        \centering
        \caption{Resultado para os critérios de ordenção.}
        \label{tab:order}
        \ttfamily\input{utils/tabular/compare/orderkey}
    \end{table}
    \note{Os próximos resultados consideram somente os casos com ordenação decrescente, já que
    se fosse considerado a ordenação crescente faria com que a média ficasse abaixo do resultado
    real, além de poder causar interpretações erradas na coluna de quantidade de vitórias.
    Aqui fica claro que ter algum critério de ordenação melhora e muito na solução, já que
    ordernar por ID teve um péssimo desempenho. Mas o curioso é que todos os demais critérios são
    competitivos entre si. A literatura em geral usa somente ordenação pela área, esses resultados
    podem indicar que algumas instâncias possuem características que torne mais interessante outro
    método de ordenação.}
\end{frame}

\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Regiões}
    \only<1>{
        \begin{table}
            \centering
            \caption{Comparativo entre criação de regiões.}
            \label{tab:regioes}
            \ttfamily\input{utils/tabular/compare/splitmode}
        \end{table}
    }
    \only<2>{
        \begin{itemize}
            \item Sem sobreposição: $R = O\left(\dfrac{n^2 + n}{2}\right)$.
            \item Com sobreposição: $\displaystyle R = O\left(\dfrac{n^2 + n}{2}\right),
            S = O\left(\dfrac{n^3 - n}{3}\right)$.
            $n = 3152 \to R = \numprint{4969128}, S = \numprint{10438481552}.$
            % $S = O\left(\sum_{i=1}^{n} i(i - 1)\right)$
            % https://brilliant.org/wiki/sum-of-n-n2-or-n3/
        \end{itemize}
    }

    \note<1>{Indo para o comparativo entre regiões percebemos que a que permite sobreposições se saiu
    melhor, tanto em quantidade como em qualidade, ainda que na maioria dos casos não foi a única
    que encontrou a melhor solução, porém com um custo autíssimo de tempo.
    Regiões criadas com linhas verticais e horizontais foram mais rápidas, mas com soluções de pior
    qualidade. Enquanto maximizando as regiões criadas levou um pouco a mais de tempo, mas também
    com acréscimo na qualidade. Aqui a gente percebe que ter sobreposição demora em torno de
    1000 vezes mais. Mas por que tanta diferença entre com e sem sobreposição?}
    \note<2>{Como dito antes, sem sobreposições temos somente que checar se
    um item cabe em uma região, no pior caso teremos que fazer isso para $(n^2 + n) / 2$ regiões.
    Enquanto com sobreposição, além de ter esse número de regiões, para cada uma delas
    também é necessário checar possíveis sobreposições com as peças já alocadas, sendo o número
    de verificações igual o somatório de $(n^3 - n)/3$, isso no pior caso, algo extremamente custoso.
    Por exemplo, para uma instância com 3152 itens podem ser necessárias mais de 10 bilhões
    de verificações de sobreposição.
    Então, aquela diferença de 1000 vezes fica ainda maior de acordo com a quantidade de itens
    a serem alocados.}
\end{frame}

\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Melhores combinações de solução}
    \begin{table}
        \centering
        \caption{Resultados da comparação entre todas combinações.}
        \label{tab:combinacoes}
        \ttfamily
        \begin{tabular}{lllrrrrr}
            \hline
            R & O & Desc.\  & W  & D  & Quality \% & Items \% & Time (s)   \\
            \hline
            V & W & T      & 9  & 8  & 84.5497    & 47.0580  & 2.4820e-03 \\
            M & P & T      & 7  & 6  & 85.8682    & 46.3078  & 1.2944e-02 \\
            N & A & T      & 13 & 11 & 87.2957    & 43.8875  & 6.4349e+00 \\
            N & W & T      & 16 & 10 & 85.9266    & 49.2806  & 8.4384e+00 \\
            \hline
        \end{tabular}
    \end{table}
    \note{Aqui eu mostro uma tabela com os resultados das combinações que se saíram melhores.
    Em termos de quantidade, quem se saiu melhor foi a criação de regiões com sobreposição, com
    a largura como critério de ordenação. Já em qualidade o melhor resultado foi obtido ao
    maximizar uma região e com ordenação pelo perímetro. A combinação de regiões com sobreposição e
    ordenação por área ficou bem próxima, mas consirando o custo-benefício não vale a pena.
    A primeira linha da tabela mostra a combinação entre a criação de regiões na vertical e
    ordenação pela largura, esse resultado é bem interessante pois têm um dos menores tempos e ainda
    consegue ser competitivo tanto em qualidade quanto em quantidade.}
\end{frame}

\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Conjuntos de instâncias}
    \begin{table}
        \centering
        \caption{Resultados para os conjuntos de instância.}
        \label{tab:instances}
        \ttfamily\input{utils/tabular/compare/instanceset}
    \end{table}
    \note{Nessa última tabela eu trouxe os resultados separados de acordo com o conjunto de
    instância, a BKW demorou mais por ter os maiores números de itens a serem alocados dentre todas
    as instâncias. Em geral, temos bons resultados para cada conjunto, mas vale investigar se algum
    deles possui alguma característica que torne melhor determinado método de solução.}
\end{frame}

\begin{frame}
    \frametitle{Resultados}
    \framesubtitle{Sobreposição}
    \begin{table}
        \centering
        \caption{Resultados para sobreposição.}
        \label{tab:sobreposicao}
        \ttfamily\input{utils/tabular/compare/superposition}
    \end{table}
    \note{}
\end{frame}